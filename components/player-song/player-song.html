<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/core-icons/core-icons.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">

<polymer-element name="player-song" attributes="song currentSong">
    <template>
        <style>
           .bg {
                background-position: center;
                background-size: cover;
                position: relative;
                width: 100%;
                height: 100%;
            }
            
            core-toolbar {
                background: rgba(0, 0, 0, 0.1);   
            }
            
            paper-icon-button,
            paper-fab {
                color: white;
            }
            
            paper-fab {
                position: absolute;
                right: 16px;
                bottom: 25%;
            }
            
            h3 {
                padding: 0;
                margin: 0;
            }
            
            .footer {
                position: absolute;
                left: 0;
                right: 0;
                padding: 16px;
                bottom: 0;
            }
        </style>
        
        <div hero-id="{{song.title}}" hero fit>
            <div class="bg" style="background-image: url(images/{{song.img}});">
                <core-toolbar cross-fade-delayed>
                    <paper-icon-button icon="arrow-back" on-tap="{{mainAction}}"></paper-icon-button>
                </core-toolbar>
                
                <div class="footer" style="background-color: {{song.dominantColor}}; color: {{song.textColor}};">
                    <h3>{{song.title}}</h3>
                    {{song.artist}}
                </div>
            </div>
            
            <paper-fab icon="av:play-arrow" cross-fade-delayed on-tap="{{playSong}}" style="background-color: {{song.dominantColor}}; color: {{song.textColor}};"></paper-fab>
        </div>
        <!--<div cross-fade-delayed>
            {{song.title}}
        </div>-->
    </template>
    
    <script>
        Polymer('player-song', {
            mainAction: function () {
                this.fire('main');   
            },
            
            playSong: function () {
                this.currentSong = this.song;
            }
        });
    </script>
</polymer-element>